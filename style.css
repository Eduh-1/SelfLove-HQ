::root{
  /* darker pastel day tones */
  --bg-a: #f9b3b3;   /* muted rose  */
  --bg-b: #f8c8b3;   /* warm peach  */
  --bg-c: #e8b3f4;   /* lavender blush */
  --bg-d: #9fb5e6;   /* cool sky */

  /* extra soft variants if needed */
  --bg2-a: #c6ecf4;
  --bg2-b: #cfeccf;

  /* night palette stays the same */
  --night-a: #0f1724;
  --night-b: #241436;
  --night-c: #2b1b4a;
  --night-d: #4b2b7f;

  --glass: rgba(255,255,255,0.18);
  --glass-night: rgba(10,10,20,0.28);

  --accent: #ff6b6b;
  --accent-night: #ffd166;

  --text: #ffffff;
  --muted: rgba(255,255,255,0.92);
  --transition: 420ms cubic-bezier(.2,.9,.2,1);

  --float-1: rgba(255, 196, 196, 0.9);
  --float-2: rgba(255, 226, 196, 0.9);
  --float-3: rgba(196, 226, 255, 0.9);
  --float-4: rgba(220, 196, 255, 0.9);
}


/* reset */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  color:var(--text);
  display:flex;
  align-items:center;
  justify-content:center;
  background: linear-gradient(135deg, var(--bg-a), var(--bg-b), var(--bg-c), var(--bg-d));
  background-size: 400% 400%;
  animation: dayGradient 12s ease infinite;
  transition: background var(--transition), color var(--transition), filter var(--transition);
  overflow:hidden;
}

/* respects reduced motion */
@media (prefers-reduced-motion: reduce) {
  * { animation-duration: 0.001ms !important; animation-iteration-count: 1 !important; transition: none !important; }
}

.stage{width:100%; min-height:100vh; display:flex; align-items:center; justify-content:center; padding:32px; position:relative; text-align:center;}
.container{width:min(900px,92%); padding:36px; border-radius:16px; background:var(--glass); backdrop-filter: blur(10px) saturate(120%); box-shadow: 0 10px 40px rgba(13,13,20,0.14); transition: transform var(--transition), background var(--transition)}
h1{margin:0 0 14px 0; font-size:clamp(1.8rem, 4vw, 3rem); letter-spacing:0.6px; color:#fff; text-shadow: 0 6px 18px rgba(0,0,0,0.22); font-weight:700; will-change: transform, opacity; animation: heartbeat 2s infinite;}
#dynamic-message{margin:0 0 22px 0; font-size:clamp(1rem,2.2vw,1.25rem); color:var(--muted); line-height:1.5; min-height:1.6em;}

/* topbar */
.topbar{position:fixed; right:18px; top:18px; z-index:30; display:flex; gap:10px; align-items:center}
.top-controls{display:flex; gap:8px; align-items:center}

/* accessible visually-hidden label */
.visually-hidden{position:absolute !important; height:1px; width:1px; overflow:hidden; clip:rect(1px,1px,1px,1px); white-space:nowrap;}

/* buttons */
.icon-btn{background: rgba(255,255,255,0.12); border:0; padding:10px; border-radius:10px; cursor:pointer; color:#fff; font-weight:600; min-width:40px; display:inline-grid; place-items:center;}
.voice-select{background: rgba(255,255,255,0.08); color:#fff; border:0; padding:8px 10px; border-radius:8px; min-width:160px;}
button.primary{background: linear-gradient(90deg, var(--accent), #ff9a9a); border:0; padding:10px 18px; border-radius:999px; color:#fff; font-weight:700;}
button.secondary{background: rgba(255,255,255,0.12); border:0; padding:9px 14px; border-radius:999px; color:#fff;}
.controls{display:flex; gap:12px; justify-content:center; align-items:center; margin-top:6px}

/* hearts layer & floating elements */
.hearts-layer{position:fixed; inset:0; pointer-events:none; z-index:0}
.floating-emoji{position:fixed; will-change: transform, opacity; font-size:20px; pointer-events:none; user-select:none; text-shadow: 0 4px 12px rgba(0,0,0,0.12)}
.float-tint-1{color:var(--float-1)} .float-tint-2{color:var(--float-2)} .float-tint-3{color:var(--float-3)} .float-tint-4{color:var(--float-4)}

/* night mode */
body.night{
  animation:none;
  background: linear-gradient(140deg, var(--night-a), var(--night-b) 30%, var(--night-c) 70%, var(--night-d));
  background-size:300% 300%;
  transition: background var(--transition);
  filter: saturate(1.05);
}
body.night .container{background: var(--glass-night)}
/* brighten key elements for night */
body.night .floating-emoji{ filter: drop-shadow(0 6px 20px rgba(0,0,0,0.25)); }
body.night #sponge-character{ filter: brightness(1.18) drop-shadow(0 10px 24px rgba(75,43,127,0.18)); transition: filter 360ms ease; }

/* --- readability fix for bright daytime --- */
body:not(.night){
  color:#1f1f2b;
}
body:not(.night) h1{
  color:#1f1f2b;
  text-shadow:none;
}
body:not(.night) .container{
  background:rgba(255,255,255,0.35);
  color:#1f1f2b;
  backdrop-filter:blur(10px) saturate(130%);
}
body:not(.night) #dynamic-message{
  color:#2c2c38;
}

/* sponge placement */
#sponge-character{position:fixed; left:20px; bottom:18px; width:120px; height:auto; z-index:28; transform-origin:center bottom; animation:spongeIdle 4.5s ease-in-out infinite; pointer-events:auto;}
#sponge-character:focus{outline:3px solid rgba(255,255,255,0.12); border-radius:8px}
@keyframes spongeIdle{0%,100%{transform:translateY(0) rotate(0)}50%{transform:translateY(-6px) rotate(-1deg)}}

/* waving class (controlled via JS) */
#right-arm.wave { animation: rightArmWave 0.9s ease-in-out; transform-origin: 9px 0px; }
@keyframes rightArmWave { 0%{transform:translate(140px,60px) rotate(0deg)}20%{transform:translate(140px,60px) rotate(-20deg)}50%{transform:translate(140px,60px) rotate(18deg)}70%{transform:translate(140px,60px) rotate(-12deg)}100%{transform:translate(140px,60px) rotate(0deg)} }

/* small responsive tweaks */
@media (max-width:640px){ .container{padding:22px;border-radius:12px} .controls{flex-direction:column} .voice-select{min-width:120px} }

/* typing cursor styling */
.typed { white-space:pre-wrap; }
.caret { display:inline-block; width:10px; background:transparent; margin-left:4px; animation: blink 1s step-start infinite; }
@keyframes blink { 50% { opacity: 0 } }

/* heartbeat */
@keyframes heartbeat { 0%, 100% { transform: scale(1) } 10%, 30% { transform: scale(1.05) } 20% { transform: scale(1.02) } }

